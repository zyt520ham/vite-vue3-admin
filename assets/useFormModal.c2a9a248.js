var k=Object.defineProperty,C=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var M=(t,n,e)=>n in t?k(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,y=(t,n)=>{for(var e in n||(n={}))g.call(n,e)&&M(t,e,n[e]);if(v)for(var e of v(n))j.call(n,e)&&M(t,e,n[e]);return t},_=(t,n)=>C(t,O(n));var r=(t,n,e)=>new Promise((f,w)=>{var a=i=>{try{c(e.next(i))}catch(u){w(u)}},s=i=>{try{c(e.throw(i))}catch(u){w(u)}},c=i=>i.done?f(i.value):Promise.resolve(i.value).then(a,s);c((e=e.apply(t,n)).next())});import{bV as x,k as R,bz as V,c as z,al as A,n as B,$ as G}from"./index.0ac8147a.js";import{_ as N}from"./schema-form.80d054b2.js";function D(){const[t]=x();return[w=>r(this,[w],function*({modalProps:e,formProps:f}){const a=R(),s=c=>{var i,u;(i=a.value)==null||i.resetFields(),(u=e==null?void 0:e.onCancel)==null||u.call(e,c)};return yield t.show(_(y({destroyOnClose:!0},V(e,["onFinish","onFail"])),{onCancel:s,content:()=>{const c=Object.assign({},{showActionButtonGroup:!1},f);return z(N,A({ref:a},c),null)},onOk:()=>r(this,null,function*(){var i,u,h,F;let c;try{c=yield(i=a.value)==null?void 0:i.validate(),yield(u=e==null?void 0:e.onFinish)==null?void 0:u.call(e,c),(h=a.value)==null||h.resetFields()}catch(b){return(F=e==null?void 0:e.onFail)==null||F.call(e,c),Promise.reject(b)}})})),yield B(),[G(a)]}),t]}export{D as u};
