var ue=Object.defineProperty,de=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var J=(r,e,n)=>e in r?ue(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,A=(r,e)=>{for(var n in e||(e={}))ve.call(e,n)&&J(r,n,e[n]);if(H)for(var n of H(e))pe.call(e,n)&&J(r,n,e[n]);return r},$=(r,e)=>de(r,fe(e));var K=(r,e,n)=>new Promise((t,a)=>{var u=f=>{try{v(n.next(f))}catch(c){a(c)}},l=f=>{try{v(n.throw(f))}catch(c){a(c)}},v=f=>f.done?t(f.value):Promise.resolve(f.value).then(u,l);v((n=n.apply(r,e)).next())});import{B as Y,P as q,E as ne,d as F,p as g,c as s,ab as se,j,ct as X,k as oe,cu as ge,x as le,cv as he,bn as me,_ as O,h as w,u as ye,bf as ke,G as be,bd as Ce,cw as _e,z as Pe,b5 as Se,cx as xe,N as R,Z as ie,bQ as we,bR as De,$ as i,J as Ie,r as Oe,c0 as Le,o as je,I as Fe,O as Q,a7 as y,a8 as S,a9 as x,aG as Z,cy as E,ac as We,U as M}from"./index.0ac8147a.js";import{D as C}from"./index.e29da9f9.js";import{f as N}from"./index.f7ce767b.js";var ce=Y("normal","exception","active","success"),ze=Y("line","circle","dashboard"),Ne=Y("default","small"),T=function(){return{prefixCls:String,type:q.oneOf(ze),percent:Number,format:{type:Function},status:q.oneOf(ce),showInfo:{type:Boolean,default:void 0},strokeWidth:Number,strokeLinecap:String,strokeColor:{type:[String,Object],default:void 0},trailColor:String,width:Number,success:{type:Object,default:function(){return{}}},gapDegree:Number,gapPosition:String,size:q.oneOf(Ne),steps:Number,successPercent:Number,title:String}};function L(r){return!r||r<0?0:r>100?100:r}function V(r){var e=r.success,n=r.successPercent,t=n;return e&&"progress"in e&&(ne(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),t=e.progress),e&&"percent"in e&&(t=e.percent),t}var Be=globalThis&&globalThis.__rest||function(r,e){var n={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(n[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(r);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(r,t[a])&&(n[t[a]]=r[t[a]]);return n},Ae=function(){return j(j({},T()),{prefixCls:String,direction:{type:String}})},$e=function(e){var n=[];return Object.keys(e).forEach(function(t){var a=parseFloat(t.replace(/%/g,""));isNaN(a)||n.push({key:a,value:e[t]})}),n=n.sort(function(t,a){return t.key-a.key}),n.map(function(t){var a=t.key,u=t.value;return"".concat(u," ").concat(a,"%")}).join(", ")},Te=function(e,n){var t=e.from,a=t===void 0?X.blue:t,u=e.to,l=u===void 0?X.blue:u,v=e.direction,f=v===void 0?n==="rtl"?"to left":"to right":v,c=Be(e,["from","to","direction"]);if(Object.keys(c).length!==0){var h=$e(c);return{backgroundImage:"linear-gradient(".concat(f,", ").concat(h,")")}}return{backgroundImage:"linear-gradient(".concat(f,", ").concat(a,", ").concat(l,")")}},Ee=F({name:"Line",props:Ae(),setup:function(e,n){var t=n.slots,a=g(function(){var c=e.strokeColor,h=e.direction;return c&&typeof c!="string"?Te(c,h):{background:c}}),u=g(function(){return e.trailColor?{backgroundColor:e.trailColor}:void 0}),l=g(function(){var c=e.percent,h=e.strokeWidth,d=e.strokeLinecap,o=e.size;return j({width:"".concat(L(c),"%"),height:"".concat(h||(o==="small"?6:8),"px"),borderRadius:d==="square"?0:""},a.value)}),v=g(function(){return V(e)}),f=g(function(){var c=e.strokeWidth,h=e.size,d=e.strokeLinecap,o=e.success;return{width:"".concat(L(v.value),"%"),height:"".concat(c||(h==="small"?6:8),"px"),borderRadius:d==="square"?0:"",backgroundColor:o==null?void 0:o.strokeColor}});return function(){var c;return s(se,null,[s("div",{class:"".concat(e.prefixCls,"-outer")},[s("div",{class:"".concat(e.prefixCls,"-inner"),style:u.value},[s("div",{class:"".concat(e.prefixCls,"-bg"),style:l.value},null),v.value!==void 0?s("div",{class:"".concat(e.prefixCls,"-success-bg"),style:f.value},null):null])]),(c=t.default)===null||c===void 0?void 0:c.call(t)])}}}),Me={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},Ge=function(e){var n=oe(null);return ge(function(){var t=Date.now(),a=!1;e.value.forEach(function(u){var l,v=((l=u)===null||l===void 0?void 0:l.$el)||u;if(!!v){a=!0;var f=v.style;f.transitionDuration=".3s, .3s, .3s, .06s",n.value&&t-n.value<100&&(f.transitionDuration="0s, 0s")}}),a&&(n.value=Date.now())}),e},Re={gapDegree:Number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:String,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:Number,trailColor:String,trailWidth:Number,transition:String},Ve=globalThis&&globalThis.__rest||function(r,e){var n={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(n[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(r);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(r,t[a])&&(n[t[a]]=r[t[a]]);return n},ee=0;function te(r){return+r.replace("%","")}function re(r){return Array.isArray(r)?r:[r]}function ae(r,e,n,t){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,u=arguments.length>5?arguments[5]:void 0,l=50-t/2,v=0,f=-l,c=0,h=-2*l;switch(u){case"left":v=-l,f=0,c=2*l,h=0;break;case"right":v=l,f=0,c=-2*l,h=0;break;case"bottom":f=l,h=2*l;break}var d="M 50,50 m ".concat(v,",").concat(f,`
   a `).concat(l,",").concat(l," 0 1 1 ").concat(c,",").concat(-h,`
   a `).concat(l,",").concat(l," 0 1 1 ").concat(-c,",").concat(h),o=Math.PI*2*l,m={stroke:n,strokeDasharray:"".concat(e/100*(o-a),"px ").concat(o,"px"),strokeDashoffset:"-".concat(a/2+r/100*(o-a),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:d,pathStyle:m}}var Ue=F({name:"VCCircle",props:le(Re,Me),setup:function(e){ee+=1;var n=oe(ee),t=g(function(){return re(e.percent)}),a=g(function(){return re(e.strokeColor)}),u=he(),l=me(u,2),v=l[0],f=l[1];Ge(f);var c=function(){var d=e.prefixCls,o=e.strokeWidth,m=e.strokeLinecap,k=e.gapDegree,p=e.gapPosition,_=0;return t.value.map(function(P,b){var W=a.value[b]||a.value[a.value.length-1],z=Object.prototype.toString.call(W)==="[object Object]"?"url(#".concat(d,"-gradient-").concat(n.value,")"):"",D=ae(_,P,W,o,k,p),U=D.pathString,I=D.pathStyle;_+=P;var B={key:b,d:U,stroke:z,"stroke-linecap":m,"stroke-width":o,opacity:P===0?0:1,"fill-opacity":"0",class:"".concat(d,"-circle-path"),style:I};return s("path",O({ref:v(b)},B),null)})};return function(){var h=e.prefixCls,d=e.strokeWidth,o=e.trailWidth,m=e.gapDegree,k=e.gapPosition,p=e.trailColor,_=e.strokeLinecap;e.strokeColor;var P=Ve(e,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"]),b=ae(0,100,p,d,m,k),W=b.pathString,z=b.pathStyle;delete P.percent;var D=a.value.find(function(I){return Object.prototype.toString.call(I)==="[object Object]"}),U={d:W,stroke:p,"stroke-linecap":_,"stroke-width":o||d,"fill-opacity":"0",class:"".concat(h,"-circle-trail"),style:z};return s("svg",O({class:"".concat(h,"-circle"),viewBox:"0 0 100 100"},P),[D&&s("defs",null,[s("linearGradient",{id:"".concat(h,"-gradient-").concat(n.value),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(D).sort(function(I,B){return te(I)-te(B)}).map(function(I,B){return s("stop",{key:B,offset:I,"stop-color":D[I]},null)})])]),s("path",U,null),c().reverse()])}}});function qe(r){var e=r.percent,n=r.success,t=r.successPercent,a=L(V({success:n,successPercent:t}));return[a,L(L(e)-a)]}function Xe(r){var e=r.success,n=e===void 0?{}:e,t=r.strokeColor,a=n.strokeColor;return[a||X.green,t||null]}var Ye=F({name:"Circle",inheritAttrs:!1,props:T(),setup:function(e,n){var t=n.slots,a=g(function(){if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),u=g(function(){var o=e.width||120;return{width:typeof o=="number"?"".concat(o,"px"):o,height:typeof o=="number"?"".concat(o,"px"):o,fontSize:"".concat(o*.15+6,"px")}}),l=g(function(){return e.strokeWidth||6}),v=g(function(){return e.gapPosition||e.type==="dashboard"&&"bottom"||"top"}),f=g(function(){return qe(e)}),c=g(function(){return Object.prototype.toString.call(e.strokeColor)==="[object Object]"}),h=g(function(){return Xe({success:e.success,strokeColor:e.strokeColor})}),d=g(function(){var o;return o={},w(o,"".concat(e.prefixCls,"-inner"),!0),w(o,"".concat(e.prefixCls,"-circle-gradient"),c.value),o});return function(){var o;return s("div",{class:d.value,style:u.value},[s(Ue,{percent:f.value,strokeWidth:l.value,trailWidth:l.value,strokeColor:h.value,strokeLinecap:e.strokeLinecap,trailColor:e.trailColor,prefixCls:e.prefixCls,gapDegree:a.value,gapPosition:v.value},null),(o=t.default)===null||o===void 0?void 0:o.call(t)])}}}),He=function(){return j(j({},T()),{steps:Number,size:{type:String},strokeColor:String,trailColor:String})},Je=F({name:"Steps",props:He(),setup:function(e,n){var t=n.slots,a=g(function(){return Math.round(e.steps*((e.percent||0)/100))}),u=g(function(){return e.size==="small"?2:14}),l=g(function(){for(var v=e.steps,f=e.strokeWidth,c=f===void 0?8:f,h=e.strokeColor,d=e.trailColor,o=e.prefixCls,m=[],k=0;k<v;k+=1){var p,_=(p={},w(p,"".concat(o,"-steps-item"),!0),w(p,"".concat(o,"-steps-item-active"),k<=a.value-1),p);m.push(s("div",{key:k,class:_,style:{backgroundColor:k<=a.value-1?h:d,width:"".concat(u.value,"px"),height:"".concat(c,"px")}},null))}return m});return function(){var v;return s("div",{class:"".concat(e.prefixCls,"-steps-outer")},[l.value,(v=t.default)===null||v===void 0?void 0:v.call(t)])}}}),Ke=F({name:"AProgress",props:le(T(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",gapDegree:0,strokeLinecap:"round"}),slots:["format"],setup:function(e,n){var t=n.slots,a=ye("progress",e),u=a.prefixCls,l=a.direction;ne(e.successPercent==null,"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var v=g(function(){var d,o=e.type,m=e.showInfo,k=e.size,p=u.value;return d={},w(d,p,!0),w(d,"".concat(p,"-").concat(o==="dashboard"&&"circle"||o),!0),w(d,"".concat(p,"-show-info"),m),w(d,"".concat(p,"-").concat(k),k),w(d,"".concat(p,"-rtl"),l.value==="rtl"),d}),f=g(function(){var d=e.percent,o=d===void 0?0:d,m=V(e);return parseInt(m!==void 0?m.toString():o.toString(),10)}),c=g(function(){var d=e.status;return ce.indexOf(d)<0&&f.value>=100?"success":d||"normal"}),h=function(){var o=e.showInfo,m=e.format,k=e.type,p=e.percent,_=e.title,P=V(e);if(!o)return null;var b,W=m||(t==null?void 0:t.format)||function(D){return"".concat(D,"%")},z=k==="line";return m||(t==null?void 0:t.format)||c.value!=="exception"&&c.value!=="success"?b=W(L(p),L(P)):c.value==="exception"?b=z?s(ke,null,null):s(be,null,null):c.value==="success"&&(b=z?s(Ce,null,null):s(_e,null,null)),s("span",{class:"".concat(u.value,"-text"),title:_===void 0&&typeof b=="string"?b:void 0},[b])};return function(){var d=e.type,o=e.steps,m=e.strokeColor,k=e.title,p=h(),_;d==="line"?_=o?s(Je,O(O({},e),{},{strokeColor:typeof m=="string"?m:void 0,prefixCls:u.value,steps:o}),{default:function(){return[p]}}):s(Ee,O(O({},e),{},{prefixCls:u.value}),{default:function(){return[p]}}):(d==="circle"||d==="dashboard")&&(_=s(Ye,O(O({},e),{},{prefixCls:u.value}),{default:function(){return[p]}}));var P=j(j({},v.value),w({},"".concat(u.value,"-status-").concat(c.value),!0));return s("div",{class:P,title:k},[_])}}}),Qe=Pe(Ke);function Ze(){return Se({url:xe.stat,method:"get"})}const G=F({props:$(A({},T()),{strokeColor:{type:[String,Object,Function]}}),setup(r){const e=r,n=g(()=>typeof e.strokeColor=="function"?$(A({},e),{strokeColor:e.strokeColor(e.percent)}):$(A({},e),{strokeColor:e.strokeColor}));return(t,a)=>(R(),ie(i(Qe),we(De(i(n))),null,16))}});const et={class:"sys-server-stat-container"},tt={class:"disk-info"},rt={class:"disk-info--item"},at={class:"disk-info"},nt={class:"disk-info--item"},st={name:"SystemMonitorServe"},ot=F($(A({},st),{setup(r){let e;const n=Oe({runtime:{os:"",arch:"",nodeVersion:"",npmVersion:""},disk:{size:0,used:0,available:0},memory:{total:0,available:0},cpu:{manufacturer:"",brand:"",physicalCores:0,model:"",speed:0,rawCurrentLoad:0,rawCurrentLoadIdle:0,coresLoad:[]}}),{runtime:t,disk:a,memory:u,cpu:l}=Le(n),v=g(()=>({size:N(a.value.size),used:N(a.value.used),available:N(a.value.available)})),f=g(()=>({total:N(u.value.total),free:N(u.value.available),used:N(u.value.total-u.value.available)})),c=g(()=>a.value.size<=0?0:Math.floor(a.value.used/a.value.size*100)),h=g(()=>u.value.total<=0?0:Math.floor((u.value.total-u.value.available)/u.value.total*100)),d=g(()=>`${l.value.manufacturer} ${l.value.brand} @ ${l.value.speed}GHz`),o=()=>K(this,null,function*(){const p=yield Ze();t.value=p.runtime,a.value=p.disk,u.value=p.memory,l.value=p.cpu});o();const m=p=>p<30?"#5cb87a":p<70?"#e6a23c":"#f53f3f",k=(p,_)=>_<=0?0:Math.floor(p/_*100);return je(()=>{e=setInterval(o,1e4)}),Fe(()=>{clearInterval(e)}),(p,_)=>(R(),Q("div",et,[s(i(E),{class:"stat-card",title:"\u8FD0\u884C\u73AF\u5883"},{default:y(()=>[s(i(C),{column:1,"label-style":{width:"50%"}},{default:y(()=>[s(i(C).Item,{label:"\u64CD\u4F5C\u7CFB\u7EDF"},{default:y(()=>[S(x(i(t).os),1)]),_:1}),s(i(C).Item,{label:"\u7CFB\u7EDF\u67B6\u6784"},{default:y(()=>[S(x(i(t).arch),1)]),_:1}),s(i(C).Item,{label:"Node\u7248\u672C"},{default:y(()=>[s(i(Z),{color:"processing",size:"small"},{default:y(()=>[S("v"+x(i(t).nodeVersion),1)]),_:1})]),_:1}),s(i(C).Item,{label:"NPM\u7248\u672C"},{default:y(()=>[s(i(Z),{color:"processing",size:"small"},{default:y(()=>[S("v"+x(i(t).npmVersion),1)]),_:1})]),_:1})]),_:1})]),_:1}),s(i(E),{class:"stat-card",title:"CPU"},{default:y(()=>[s(i(C),{column:1,"label-style":{width:"50%"},"content-style":{width:"50%"}},{default:y(()=>[s(i(C).Item,{label:"\u8BE6\u7EC6"},{default:y(()=>[S(x(i(d)),1)]),_:1}),s(i(C).Item,{label:"\u8D1F\u8F7D"},{default:y(()=>[s(G,{percent:k(i(l).rawCurrentLoad,i(l).rawCurrentLoadIdle+i(l).rawCurrentLoad),"stroke-color":m},null,8,["percent"])]),_:1}),(R(!0),Q(se,null,We(i(l).coresLoad,(P,b)=>(R(),ie(i(C).Item,{key:b,label:`\u6838\u5FC3${b+1} \u8D1F\u8F7D`},{default:y(()=>[s(G,{percent:k(P.rawLoad,P.rawLoad+P.rawLoadIdle),"stroke-color":m},null,8,["percent"])]),_:2},1032,["label"]))),128))]),_:1})]),_:1}),s(i(E),{class:"stat-card",title:"\u78C1\u76D8"},{default:y(()=>[M("div",tt,[s(i(C),{class:"disk-info--item",column:1},{default:y(()=>[s(i(C).Item,{label:"\u603B\u7A7A\u95F4"},{default:y(()=>[S(x(i(v).size),1)]),_:1}),s(i(C).Item,{label:"\u5DF2\u7528\u7A7A\u95F4"},{default:y(()=>[S(x(i(v).used),1)]),_:1}),s(i(C).Item,{label:"\u53EF\u7528\u7A7A\u95F4"},{default:y(()=>[S(x(i(v).available),1)]),_:1})]),_:1}),M("div",rt,[s(G,{type:"dashboard",percent:i(c),width:100,"stroke-color":m},null,8,["percent"])])])]),_:1}),s(i(E),{class:"stat-card",title:"\u5185\u5B58"},{default:y(()=>[M("div",at,[s(i(C),{class:"disk-info--item",column:1},{default:y(()=>[s(i(C).Item,{label:"\u603B\u5185\u5B58"},{default:y(()=>[S(x(i(f).total),1)]),_:1}),s(i(C).Item,{label:"\u5DF2\u7528\u5185\u5B58"},{default:y(()=>[S(x(i(f).used),1)]),_:1}),s(i(C).Item,{label:"\u53EF\u7528\u5185\u5B58"},{default:y(()=>[S(x(i(f).free),1)]),_:1})]),_:1}),M("div",nt,[s(G,{type:"dashboard",percent:i(h),width:100,"stroke-color":m},null,8,["percent"])])])]),_:1})]))}}));var dt=Ie(ot,[["__scopeId","data-v-11512892"]]);export{dt as default};
