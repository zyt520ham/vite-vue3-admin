import{d as Z,p as C,r as et,k as R,l as G,m as at,j as c,c as f,s as D,u as Q,cA as nt,aZ as J,P as I,cB as rt,h as m,_ as j,g as lt,f as ot,b as ut,bb as st,bc as ct,Q as it,T as vt}from"./index.0ac8147a.js";import{i as ft}from"./isNumeric.0c40c1d9.js";function F(n){var t=n.prefixCls,l=n.value,e=n.current,a=n.offset,g=a===void 0?0:a,r;return g&&(r={position:"absolute",top:"".concat(g,"00%"),left:0}),f("p",{style:r,class:D("".concat(t,"-only-unit"),{current:e})},[l])}function dt(n,t,l){for(var e=n,a=0;(e+10)%10!==t;)e+=l,a+=l;return a}var bt=Z({name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup:function(t){var l=C(function(){return Number(t.value)}),e=C(function(){return Math.abs(t.count)}),a=et({prevValue:l.value,prevCount:e.value}),g=function(){a.prevValue=l.value,a.prevCount=e.value},r=R();return G(l,function(){clearTimeout(r.value),r.value=setTimeout(function(){g()},1e3)},{flush:"post"}),at(function(){clearTimeout(r.value)}),function(){var d,u={},s=l.value;if(a.prevValue===s||Number.isNaN(s)||Number.isNaN(a.prevValue))d=[F(c(c({},t),{current:!0}))],u={transition:"none"};else{d=[];for(var v=s+10,i=[],b=s;b<=v;b+=1)i.push(b);var h=i.findIndex(function(y){return y%10===a.prevValue});d=i.map(function(y,p){var _=y%10;return F(c(c({},t),{value:_,offset:p-h,current:p===h}))});var x=a.prevCount<e.value?1:-1;u={transform:"translateY(".concat(-dt(a.prevValue,s,x),"00%)")}}return f("span",{class:"".concat(t.prefixCls,"-only"),style:u,onTransitionend:function(){return g()}},[d])}}}),yt=globalThis&&globalThis.__rest||function(n,t){var l={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(l[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(n);a<e.length;a++)t.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(n,e[a])&&(l[e[a]]=n[e[a]]);return l},mt={prefixCls:String,count:I.any,component:String,title:I.any,show:Boolean},gt=Z({name:"ScrollNumber",inheritAttrs:!1,props:mt,setup:function(t,l){var e=l.attrs,a=l.slots,g=Q("scroll-number",t),r=g.prefixCls;return function(){var d,u=c(c({},t),e);u.prefixCls;var s=u.count,v=u.title;u.show;var i=u.component,b=i===void 0?"sup":i,h=u.class,x=u.style,y=yt(u,["prefixCls","count","title","show","component","class","style"]),p=c(c({},y),{style:x,"data-show":t.show,class:D(r.value,h),title:v}),_=s;if(s&&Number(s)%1===0){var B=String(s).split("");_=B.map(function(o,T){return f(bt,{prefixCls:r.value,count:Number(s),value:o,key:B.length-T},null)})}x&&x.borderColor&&(p.style=c(c({},x),{boxShadow:"0 0 0 1px ".concat(x.borderColor," inset")}));var O=nt((d=a.default)===null||d===void 0?void 0:d.call(a));return O&&O.length?J(O,{class:D("".concat(r.value,"-custom-component"))},!1):f(b,p,{default:function(){return[_]}})}}});function A(n){return rt.indexOf(n)!==-1}var pt=globalThis&&globalThis.__rest||function(n,t){var l={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(l[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(n);a<e.length;a++)t.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(n,e[a])&&(l[e[a]]=n[e[a]]);return l},Ct=function(){return{prefix:String,color:{type:String},text:I.any,placement:{type:String,default:"end"}}},xt=Z({name:"ABadgeRibbon",inheritAttrs:!1,props:Ct(),slots:["text"],setup:function(t,l){var e=l.attrs,a=l.slots,g=Q("ribbon",t),r=g.prefixCls,d=g.direction,u=C(function(){return A(t.color)}),s=C(function(){var v;return[r.value,"".concat(r.value,"-placement-").concat(t.placement),(v={},m(v,"".concat(r.value,"-rtl"),d.value==="rtl"),m(v,"".concat(r.value,"-color-").concat(t.color),u.value),v)]});return function(){var v,i,b=e.class,h=e.style,x=pt(e,["class","style"]),y={},p={};return t.color&&!u.value&&(y.background=t.color,p.color=t.color),f("div",j({class:"".concat(r.value,"-wrapper")},x),[(v=a.default)===null||v===void 0?void 0:v.call(a),f("div",{class:[s.value,b],style:c(c({},y),h)},[f("span",{class:"".concat(r.value,"-text")},[t.text||((i=a.text)===null||i===void 0?void 0:i.call(a))]),f("div",{class:"".concat(r.value,"-corner"),style:p},null)])])}}}),ht=function(){return{count:I.any,showZero:{type:Boolean,default:void 0},overflowCount:{type:Number,default:99},dot:{type:Boolean,default:void 0},prefixCls:String,scrollNumberPrefixCls:String,status:{type:String},size:{type:String,default:"default"},color:String,text:I.any,offset:Array,numberStyle:{type:Object,default:void 0},title:String}},_t=Z({name:"ABadge",Ribbon:xt,inheritAttrs:!1,props:ht(),slots:["text","count"],setup:function(t,l){var e=l.slots,a=l.attrs,g=Q("badge",t),r=g.prefixCls,d=g.direction,u=C(function(){return t.count>t.overflowCount?"".concat(t.overflowCount,"+"):t.count}),s=C(function(){return t.status!==null&&t.status!==void 0||t.color!==null&&t.color!==void 0}),v=C(function(){return u.value==="0"||u.value===0}),i=C(function(){return t.dot&&!v.value}),b=C(function(){return i.value?"":u.value}),h=C(function(){var o=b.value===null||b.value===void 0||b.value==="";return(o||v.value&&!t.showZero)&&!i.value}),x=R(t.count),y=R(b.value),p=R(i.value);G([function(){return t.count},b,i],function(){h.value||(x.value=t.count,y.value=b.value,p.value=i.value)},{immediate:!0});var _=C(function(){var o;return o={},m(o,"".concat(r.value,"-status-dot"),s.value),m(o,"".concat(r.value,"-status-").concat(t.status),!!t.status),m(o,"".concat(r.value,"-status-").concat(t.color),A(t.color)),o}),B=C(function(){return t.color&&!A(t.color)?{background:t.color}:{}}),O=C(function(){var o;return o={},m(o,"".concat(r.value,"-dot"),p.value),m(o,"".concat(r.value,"-count"),!p.value),m(o,"".concat(r.value,"-count-sm"),t.size==="small"),m(o,"".concat(r.value,"-multiple-words"),!p.value&&y.value&&y.value.toString().length>1),m(o,"".concat(r.value,"-status-").concat(t.status),!!t.status),m(o,"".concat(r.value,"-status-").concat(t.color),A(t.color)),o});return function(){var o,T,z,P=t.offset,U=t.title,$=t.color,Y=a.style,H=lt(e,t,"text"),N=r.value,S=x.value,w=ot((T=e.default)===null||T===void 0?void 0:T.call(e));w=w.length?w:null;var M=!!(!h.value||e.count),V=function(){if(!P)return c({},Y);var k={marginTop:ft(P[1])?"".concat(P[1],"px"):P[1]};return d.value==="rtl"?k.left="".concat(parseInt(P[0],10),"px"):k.right="".concat(-parseInt(P[0],10),"px"),c(c({},k),Y)}(),K=U!=null?U:typeof S=="string"||typeof S=="number"?S:void 0,W=M||!H?null:f("span",{class:"".concat(N,"-status-text")},[H]),X=ut(S)==="object"||S===void 0&&e.count?J(S!=null?S:(z=e.count)===null||z===void 0?void 0:z.call(e),{style:V},!1):null,q=D(N,(o={},m(o,"".concat(N,"-status"),s.value),m(o,"".concat(N,"-not-a-wrapper"),!w),m(o,"".concat(N,"-rtl"),d.value==="rtl"),o),a.class);if(!w&&s.value){var L=V.color;return f("span",j(j({},a),{},{class:q,style:V}),[f("span",{class:_.value,style:B.value},null),f("span",{style:{color:L},class:"".concat(N,"-status-text")},[H])])}var tt=st(w?"".concat(N,"-zoom"):"",{appear:!1}),E=c(c({},V),t.numberStyle);return $&&!A($)&&(E=E||{},E.background=$),f("span",j(j({},a),{},{class:q}),[w,f(ct,tt,{default:function(){return[it(f(gt,{prefixCls:t.scrollNumberPrefixCls,show:M,class:O.value,count:y.value,title:K,style:E,key:"scrollNumber"},{default:function(){return[X]}}),[[vt,M]])]}}),W])}}});export{_t as B,xt as R};
